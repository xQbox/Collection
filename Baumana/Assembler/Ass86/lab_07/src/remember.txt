Соглашение о вызове Си
cdecl32 — соглашение о вызовах, используемое компиляторами для языка Си на
32-разрядных системах.
1. Аргументы функций передаются через стек, справа налево.
2. Аргументы, размер которых меньше 4-х байт, расширяются до 4-х байт.
3. Очистку стека производит вызывающая программа.
4. Возврат параметров 1, 2, 4 байта (целые числа, указатели) - через eax.
5. Возврат больших структур, массивов, строк - указателем через eax.
Перед вызовом функции вставляется код, выполняющий следующие действия:
● сохранение значений регистров, используемых внутри функции;
● запись в стек аргументов функции.
После вызова функции вставляется код, выполняющий следующие действия:
● очистка стека;
● восстановление значений регистров.
